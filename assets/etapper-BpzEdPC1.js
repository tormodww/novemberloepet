import{r as c,j as e,a as g,T as h}from"./Toolbar-B0NiT4Bs.js";import{d as b,e as f,s as j,f as o,h as N}from"./storageApi-BNNNQTAE.js";function C(){const p=b(),r=f(),[n,d]=c.useState(p||(r?r.map((s,t)=>({name:s,ideal:t<3?"02:00":"02:30"})):j.map((s,t)=>({name:s,ideal:t<3?"02:00":"02:30"})))),m=(s,t,l)=>{const a=n.map((i,S)=>S===s?{...i,[t]:l}:i);d(a),o(a)},u=()=>{d([...n,{name:"",ideal:""}])},x=s=>{const t=n.filter((l,a)=>a!==s);d(t),o(t)};return e.jsxs("div",{className:"w-full max-w-md mx-auto text-center px-2 py-8",children:[e.jsx("h1",{className:"text-2xl font-bold mb-8",children:"Konfigurer etapper"}),e.jsx("ul",{className:"mb-8",children:n.map((s,t)=>e.jsxs("li",{className:"mb-4 p-4 border rounded-md flex flex-col gap-2",children:[e.jsx("input",{type:"text",value:s.name,onChange:l=>m(t,"name",l.target.value),placeholder:"Etappenavn",className:"border px-3 py-2 rounded w-full"}),e.jsx("label",{className:"block text-sm font-semibold text-left mb-1",children:"Idealtid (mm:ss)"}),e.jsx("input",{type:"text",value:s.ideal,onChange:l=>{let a=l.target.value.replace(/[^0-9:]/g,"");/^\d{2}$/.test(a)&&!a.includes(":")&&(a=a+":"),a.length>5&&(a=a.slice(0,5)),m(t,"ideal",a)},placeholder:"--:--",className:"border px-3 py-2 rounded w-full font-mono tracking-widest text-center",maxLength:5,pattern:"\\d{2}:\\d{2}",inputMode:"numeric"}),e.jsx("button",{className:"text-red-600 underline text-sm mt-2",onClick:()=>x(t),children:"Slett etappe"})]},t))}),e.jsx("button",{className:"bg-blue-600 text-white py-3 rounded-md text-lg font-semibold w-full mb-4",onClick:u,children:"Legg til etappe"}),e.jsx("button",{className:"bg-red-600 text-white py-3 rounded-md text-lg font-semibold w-full mb-4",onClick:()=>{const s=["1-SS MOSS MC/KÅK","2-SS HVEKER","3-SS UNNERUD","4-SS BRYNHILDSEN","5-SS SVINNDAL CROSS","6-SS HVEKER","7-SS MOSS MC/KÅK"],t=s.map((l,a)=>({name:l,ideal:a<3||a===6?"02:00":"02:30"}));o(t),N(s),d(t)},children:"Tilbakestill til standard etapper"}),e.jsx("a",{href:"admin.html",className:"block mt-4 text-blue-600 underline",children:"Tilbake til admin"})]})}g(document.getElementById("root")).render(e.jsx(c.StrictMode,{children:e.jsxs(e.Fragment,{children:[e.jsx(h,{}),e.jsx("div",{className:"pt-20",children:e.jsx(C,{})})]})}));
