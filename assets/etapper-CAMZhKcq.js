import{r as i,j as e,a as u,T as x}from"./Toolbar-B0NiT4Bs.js";import{s as f}from"./stages-C8iUDG9v.js";function b(){const c=JSON.parse(localStorage.getItem("adminStages")||"null"),d=JSON.parse(localStorage.getItem("customStages")||"null"),[n,o]=i.useState(c||(d?d.map((l,a)=>({name:l,ideal:a<3?"02:00":"02:30"})):f.map((l,a)=>({name:l,ideal:a<3?"02:00":"02:30"})))),r=(l,a,s)=>{const t=n.map((m,p)=>p===l?{...m,[a]:s}:m);o(t),localStorage.setItem("adminStages",JSON.stringify(t))},S=()=>{o([...n,{name:"",ideal:""}])},g=l=>{const a=n.filter((s,t)=>t!==l);o(a),localStorage.setItem("adminStages",JSON.stringify(a))};return e.jsxs("div",{className:"w-full max-w-md mx-auto text-center px-2 py-8",children:[e.jsx("h1",{className:"text-2xl font-bold mb-8",children:"Konfigurer etapper"}),e.jsx("ul",{className:"mb-8",children:n.map((l,a)=>e.jsxs("li",{className:"mb-4 p-4 border rounded-md flex flex-col gap-2",children:[e.jsx("input",{type:"text",value:l.name,onChange:s=>r(a,"name",s.target.value),placeholder:"Etappenavn",className:"border px-3 py-2 rounded w-full"}),e.jsx("label",{className:"block text-sm font-semibold text-left mb-1",children:"Idealtid (mm:ss)"}),e.jsx("input",{type:"text",value:l.ideal,onChange:s=>{let t=s.target.value.replace(/[^0-9:]/g,"");/^\d{2}$/.test(t)&&!t.includes(":")&&(t=t+":"),t.length>5&&(t=t.slice(0,5)),r(a,"ideal",t)},placeholder:"--:--",className:"border px-3 py-2 rounded w-full font-mono tracking-widest text-center",maxLength:5,pattern:"\\d{2}:\\d{2}",inputMode:"numeric"}),e.jsx("button",{className:"text-red-600 underline text-sm mt-2",onClick:()=>g(a),children:"Slett etappe"})]},a))}),e.jsx("button",{className:"bg-blue-600 text-white py-3 rounded-md text-lg font-semibold w-full mb-4",onClick:S,children:"Legg til etappe"}),e.jsx("button",{className:"bg-red-600 text-white py-3 rounded-md text-lg font-semibold w-full mb-4",onClick:()=>{const l=["1-SS MOSS MC/KÅK","2-SS HVEKER","3-SS UNNERUD","4-SS BRYNHILDSEN","5-SS SVINNDAL CROSS","6-SS HVEKER","7-SS MOSS MC/KÅK"],a=l.map((s,t)=>({name:s,ideal:t<3||t===6?"02:00":"02:30"}));localStorage.setItem("adminStages",JSON.stringify(a)),localStorage.setItem("customStages",JSON.stringify(l)),window.location.reload()},children:"Tilbakestill til standard etapper"}),e.jsx("a",{href:"admin.html",className:"block mt-4 text-blue-600 underline",children:"Tilbake til admin"})]})}u(document.getElementById("root")).render(e.jsx(i.StrictMode,{children:e.jsxs(e.Fragment,{children:[e.jsx(x,{}),e.jsx("div",{className:"pt-20",children:e.jsx(b,{})})]})}));
